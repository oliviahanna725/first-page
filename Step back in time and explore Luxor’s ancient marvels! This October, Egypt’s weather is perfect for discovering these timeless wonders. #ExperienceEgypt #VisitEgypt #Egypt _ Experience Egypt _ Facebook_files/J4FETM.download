;/*FB_PKG_DELIM*/

__d("MinGapType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({UNKNOWN:0,ORGANIC:1,ENGAGEMENT:2,FIXED_POSITION:3,PROMOTION:4,SPONSORED:5,END_OF_FEED_CONTENT:6,FB_STORIES:7,HIGH_VALUE_PROMOTION:8,FB_STORIES_ENGAGEMENT:9,PYMK:10,SHOWCASE:11,FB_SHORTS:12,TRENDING:13,IFR:14,ENGAGEMENT_QP:15,GROUPS_TAB_UNCONNECTED:16,END_OF_FEED_REELS:17,FRIEND_REQUESTS:18,FB_SHORTS_FALLBACK:19,FRIENDLY_FEED_BIRTHDAYS:20,FRIENDLY_FEED_FRIEND_REQUESTS:21,FRIENDLY_FEED_MID_CARD:22,FRIENDLY_FEED_PROMOTION:23,INJECTED_STORY:24,LIMITED_PERSONALIZATION_NOTICE:25,FRIENDS_FEED_BADGED:26,FRIENDLY_FEED_PROMOTION_GAP_3:27});c=a;f["default"]=c}),66);
__d("AdsExtremeGapUtils",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=3,i=6;function a(a,b){if(b!==5)return!1;b=c("gkx")("23035");if(!b)return!1;b=j(a,0);return b>i}function j(a,b){if(a.length===0||b>i)return b;var c=a.length,d=k(a);if(d===-1)return b;return c-d<=h?j(a.slice(0,d),b+1):b}function k(a){for(var b=a.length-1;b>=0;b--)if(a[b].minGapType===5)return b;return-1}g.EXTREME_GAP_DISTANCE=h;g.shouldApplyExtremeGapProtection=a;g.getLastSponsoredStoryPosition=k}),98);
__d("BrandSafetyOpportunityLossRateFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1305");b=d("FalcoLoggerInternal").create("brand_safety_opportunity_loss_rate",a);e=b;g["default"]=e}),98);
__d("Comet2ndChannelContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("CometAdsProductLoggingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5479");b=d("FalcoLoggerInternal").create("comet_ads_product_logging",a);e=b;g["default"]=e}),98);
__d("CometFeedUnitStatusTrackingUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.map(function(a,c){return b(a)?babelHelpers["extends"]({},a,{position:c}):null}).filter(Boolean)}function b(a){return a.filter(h)}function c(a){return a.filter(i)}function d(a){return a.filter(j)}function e(a){return a.filter(function(a){return a.status==="received"||a.status==="positioned"})}function g(a){var b=a.reduce(function(a,b,c){return j(b)?c:a},-1);return a.map(function(a,c){return c<=b&&!j(a)?babelHelpers["extends"]({},a,{status:"rendered"}):a})}function h(a){return a.status==="rendered"}function i(a){return a.status!=="error"}function j(a){return a.status==="rendered"||a.status==="error"||a.status==="positioned"}f.getFeedUnitsWithOriginalPosition=a;f.getCurrentlyVisibleFeedUnits=b;f.getPossiblyVisibleFeedUnits=c;f.getAllPositionedFeedUnits=d;f.getUncommittedFeedUnits=e;f.getFeedUnitsWithRenderingOutOfOrderFixed=g;f.isCurrentlyVisible=h;f.isPossiblyVisible=i;f.isAnyPositionedType=j}),66);
__d("CometAdsProductLogger",["AdsExtremeGapUtils","CometAdsProductLoggingFalcoEvent","CometFeedUnitStatusTrackingUtils","WebSession"],(function(a,b,c,d,e,f,g){"use strict";var h="SPONSORED",i="comet.home";function a(a){var b=a.adId,d=a.csp,e=a.cts,f=a.endPoint,g=a.getFeedUnitStatusList,i=a.hba,k=a.isv,l=a.minGapRule,m=a.minGapType,n=a.sessionKey,o=a.tracking,p=a.vp;if(m!==h||l==null||b==null)return;c("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:b,csp:d,endpoint:f,event:"impression",hba:i,isv:k,min_gap_shape:{min_gap_rule:l.toString(),min_gap_type:m},session_key:n,timestamp:e,tracking:o,vp:p}});j({adId:b,csp:d,cts:e,endPoint:f,getFeedUnitStatusList:g,hba:i,isv:k,minGapRule:l,minGapType:m,sessionKey:n,tracking:o,vp:p})}function j(a){var b=a.adId,e=a.csp,f=a.cts,g=a.endPoint,h=a.getFeedUnitStatusList,i=a.hba,j=a.isv,k=a.minGapRule,l=a.minGapType,m=a.sessionKey,n=a.tracking,o=a.vp;if(h==null||e==null)return;a=h();h=d("CometFeedUnitStatusTrackingUtils").getFeedUnitsWithOriginalPosition(a,d("CometFeedUnitStatusTrackingUtils").isCurrentlyVisible);a=parseInt(e,10);h=h.slice(0,a-1);var p=d("AdsExtremeGapUtils").shouldApplyExtremeGapProtection(h,5);if(!p)return;var q=a-d("AdsExtremeGapUtils").getLastSponsoredStoryPosition(h);c("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:b,csp:e,endpoint:g,event:"extreme_experience",hba:i,isv:j,min_gap_shape:{min_gap_rule:k!=null?k.toString():null,min_gap_type:l},product_features:q<=d("AdsExtremeGapUtils").EXTREME_GAP_DISTANCE?"not protected":"protected",session_key:m,timestamp:f,tracking:n,vp:o}})}function b(a){var b=a.adId,e=a.endPoint,f=e===void 0?i:e,g=a.minGapRule,h=a.minGapType;e=Date.now();var j=Math.floor(e/1e3);c("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:b,csp:null,endpoint:f,event:"cta_click",hba:!1,isv:null,min_gap_shape:{min_gap_rule:g!=null?g.toString():null,min_gap_type:h},product_features:"primary_blue_cta_button",session_key:d("WebSession").getId(),timestamp:j.toString(),tracking:null,vp:null}})}function e(a){var b=a.endPoint,e=b===void 0?i:b,f=a.minGapRule,g=a.minGapType;b=Date.now();var h=Math.floor(b/1e3);c("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:null,csp:"0",endpoint:e,event:"impression",hba:!1,isv:null,min_gap_shape:{min_gap_rule:f!=null?f.toString():null,min_gap_type:g},product_features:"highest_position_ad_from_multifeed",session_key:d("WebSession").getId(),timestamp:h.toString(),tracking:null,vp:null}})}g.logCometAdsProductGapRule=a;g.logCometAdsProductGapRuleExtremeExperience=j;g.logCometAdsProductPrimaryBlueCTAButtonClick=b;g.logCometFeedHighestPositionAd=e}),98);
__d("CometDefaultPageSizes",[],(function(a,b,c,d,e,f){"use strict";a=[1,2,2,2,4];f["default"]=a}),66);
__d("CometFeed5sImpressionDelayContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({firstAdStoryPosition:null,firstLoggedAdImpressionStoryPosition:null,hasAnyAdImpressionAlreadyBeenLogged:!1,hasUserSeenAnyAd:!1});g["default"]=b}),98);
__d("CometFeedBrandSafetyContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("CometFeedBrandSafetyLoggingUtil",["CometFeedUnitStatusTrackingUtils","FBLogger","NetworkStatus"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){if(a==null||b==null){f&&c("FBLogger")("comet_feed_impression_null_brs_field").warn("Unable to get brs data for position %s. Debug: isAd: %s, feedUnitStatusList: %s, brsRegistry: %s",e,f,JSON.stringify(a?a():null),JSON.stringify(b?b():null));return null}var g=a();g=d("CometFeedUnitStatusTrackingUtils").getFeedUnitsWithOriginalPosition(g,d("CometFeedUnitStatusTrackingUtils").isPossiblyVisible);var k=g.findIndex(function(a){return a.position===e});if(!h(g,k)){f&&c("FBLogger")("comet_feed_impression_null_brs_field_unsponsored").warn("Impression at nonErrorFeedUnit index %s was determined to be non sponsored. Debug: storyPosition: %s, isAd: %s, nonErrorFeedUnits: %s, feedUnitStatusList: %s, brsRegistry: %s",k,e,f,JSON.stringify(g),JSON.stringify(a()),JSON.stringify(b()));return null}f=b();a=i(g,f,k-1);b=i(g,f,k+1);k=j(g,f,k);return{brs_filter_setting:k,feed_size:g.length.toString(),feed_state:l(f),unit_after:b,unit_before:a}}function h(a,b){return((a=a[b])==null?void 0:a.category)==="SPONSORED"}function i(a,b,c){a=k(a,b,c);return a&&{brs_content_label:(b=a.brsContentLabel)==null?void 0:b.toString(),organic_tracking:a.tracking,unit_type:a.unitType}}function j(a,b,c){var d;a=k(a,b,c);return a==null||(d=a.brsFilterSetting)==null?void 0:d.toString()}function k(a,b,d){var e=a[d];if(e==null)return null;var f=e.key;f=b.feedUnitRegistry[f];f==null&&e.status==="rendered"?c("FBLogger")("comet_feed_unit_brand_safety_null_brs_info").warn("Unable to find a CometFeedUnitBrandSafetyInfo for position %s and deduplicationKey %s. feedUnitStatusList: %s. brsRegistry: %s",d,e.key,JSON.stringify(a),JSON.stringify(Object.keys(b.feedUnitRegistry))):e.status==="error"&&c("FBLogger")("comet_feed_unit_brand_safety_error_status").mustfix("CometFeedUnitStatus is error for position %s and deduplicationKey %s. feedUnitStatusList: %s. brsRegistry: %s",d,e.key,JSON.stringify(a),JSON.stringify(Object.keys(b.feedUnitRegistry)));return f}function l(a){a=a.feedStateInfoRef.current;if(a==null){c("FBLogger")("comet_feed_unit_brand_safety_feed_state").mustfix("feedStateInfo was not initialized correctly");return"feed_uninitialized_state_info"}var b=a.hasMore,d=a.isEOFError,e=a.isLoading;a=a.showEOFMessageAfterFeedStoppedLoading;var f=c("NetworkStatus").isOnline();if(d)if(f)return"feed_eof_error_while_online";else return"feed_eof_error_while_offline";else if(a)if(f)return"feed_eof_no_more_stories_while_online";else return"feed_eof_no_more_stories_while_offline";else if(b&&e)return"feed_has_more_and_is_loading";else if(b)return"feed_has_more";else if(e)return"feed_is_loading";else return"feed_unknown"}g.getBrandSafetyFieldForAdImpression=a}),98);
__d("CometFeedSessionIDContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(-1);g["default"]=b}),98);
__d("CometFeedUnitStatusListPassiveContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("DebugOwl",["cr:1801726"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){return void 0};a=b("cr:1801726")!=null?b("cr:1801726"):{burrow:h,flap:h,fly:h,hoot:h,listen:function(){return h},nest:h,peck:h,perch:h,swoop:h,getBlockedDebugOwlElements:function(){return new Map()}};c=a;g["default"]=c}),98);
__d("cometGHLContentDisplayCheck",["cr:1824699"],(function(a,b,c,d,e,f,g){"use strict";var h=!0,i=!1;function a(a){if(j(a))return h;var c=document.body;c=c==null||!c.contains(a);b("cr:1824699")&&b("cr:1824699").flap(a,{notMounted:c});if(c)return h;c=a.offsetHeight===0;b("cr:1824699")&&b("cr:1824699").flap(a,{zeroHeight:c});if(c)return i;c=Array.from(a.getElementsByTagName("img"));var d=c.length===0;b("cr:1824699")&&b("cr:1824699").flap(a,{noImages:d});if(c.length===0)return h;d=c.find(k)!=null;b("cr:1824699")&&b("cr:1824699").flap(a,{hasImageWithSize:d});if(d)return h;c=Array.from(a.getElementsByTagName("svg"));if(c.find(l)!=null)return h;d=Array.from(a.getElementsByTagName("i"));if(d.find(l)!=null)return h;b("cr:1824699")&&b("cr:1824699").flap(a,{noSuccessfulChecks:!0});return i}var j=function(a){for(var b of a.children){var c;if(((c=b.dataset)==null?void 0:c.virtualized)==="true")return!Boolean(a.style.display)}return!1},k=function(a){return a.offsetHeight+a.offsetWidth>0},l=function(a){a=a.getBoundingClientRect();return a.height*a.width>0};g["default"]=a}),98);
__d("CometGHLDisplayMonitor",["DebugOwl","FBLogger","GHLGating","clearTimeout","cometGHLContentDisplayCheck","setTimeoutCometLoggingPri"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=1e3,j=null,k=!1,l=new Set();a=function(a,b){h.has(a)||h.set(a,new Set());var d=h.get(a);if(d==null){c("FBLogger")("GHL").mustfix("Expected Set to be declared for container");return{dispose:function(){}}}d.add(b);j===null&&m();return{dispose:function(){d["delete"](b),d.size===0&&(h["delete"](a),h.size===0&&(c("clearTimeout")(j),j=null))}}};var m=function(){h.forEach(function(a,b){b=b.current;if(b==null||o(b)||!c("cometGHLContentDisplayCheck")(b))return;a.forEach(function(a,b){a=b.onLogBlockCallback;var d=b.startTime;b=b.targetRef;b=b.current;c("DebugOwl").hoot(b);if(b==null)return;var e=o(b)!=null;c("DebugOwl").flap(b,{hiddenByFB:e});if(e)return;e=c("cometGHLContentDisplayCheck")(b);if(!e){b=Date.now()-d;a(b);n()}})}),j=c("setTimeoutCometLoggingPri")(m,i)};b=function(a){l.add(a);k&&a();return{dispose:function(){l["delete"](a)}}};var n=function(){if(k===!0)return;k=!0;l.forEach(function(a){return a()})},o=function(a){return a.closest==null||a.closest(p)},p=function(){return"."+"x1s85apg".split(" ").pop()+(d("GHLGating").getCometGhlContentVisibility()?",."+"xdps06".split(" ").pop():"")}();g.m=a;g.subscribeAny=b}),98);
__d("CometGHLFeedClassContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=!1;c=a.createContext(b);e=c;g["default"]=e}),98);
__d("CometGHLFeedRandomElementWrapperContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={enabled:!1};c=a.createContext(b);e=c;g["default"]=e}),98);
__d("CometGHLTracker",["DebugOwl","GHLBox"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set();function a(a){c("DebugOwl").swoop(a),h.add(a),h.size>d("GHLBox").MinimumHiddenAdsToUpdateLocalStorage&&d("GHLBox").s(Date.now())}function b(a){return h.has(a)}function e(a){return h["delete"](a)}function f(){return h.size>0}function i(){return h.size}g.m=a;g.c=b;g.d=e;g.b=f;g.s=i}),98);
__d("CometHeroFeedItem.react",["CometHeroInteractionContextPassthrough.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e=a.children;a=a.position;a=a==null||a<=1;a=!a;var f;b[0]!==e||b[1]!==a?(f=i.jsx(c("CometHeroInteractionContextPassthrough.react"),{clear:a,children:e}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),98);
__d("VirtualizationConfig",[],(function(a,b,c,d,e,f){"use strict";a={isVisible:!0,nodeHeight:null};b=4e3;c=0;d=!1;f.DEFAULT_INIT_RENDER_CONFIG=a;f.VERTICAL_HIDEABLE_MARGIN=b;f.HORIZONTAL_HIDEABLE_MARGIN=c;f.IS_INTERSECTION_MARGIN_SUPPORTED=d}),66);
__d("VirtualizationContainerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||c("react");b=a.createContext();g["default"]=b}),98);
__d("useWeightedScrollSpeedRef.react",["VirtualizationContainerContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect,k=10;e=typeof WeakMap==="function"?WeakMap:Map;var l=new e(),m=new e();function a(a){var b;a===void 0&&(a=null);var d=i(c("VirtualizationContainerContext")),e=typeof a==="function"?a():d==null||(b=d.rootElementRef)==null?void 0:b.current,f=e!=null?e:window,g=(a=m.get(f))!=null?a:{lastScrollY:0,lastTime:Date.now(),speedHistory:[],weightedSpeed:0};m.set(f,g);j(function(){if(!l.has(f)){var a=function(){var a,b=g.lastScrollY,c=g.lastTime,d=g.speedHistory;a=(a=f===window?window.scrollY:e==null?void 0:e.scrollTop)!=null?a:0;var h=Date.now();b=a-b;c=h-c;if(c>0&&b>0&&c>0){b=Math.abs(b/(c/1e3));d.push({speed:b});d.length>k&&d.shift()}g.lastScrollY=a;g.lastTime=h;var i=0,j=0;d.forEach(function(a,b){a=a.speed;b=b+1;i+=a*b;j+=b});g.weightedSpeed=j>0?i/j:0};f.addEventListener("scroll",a);l.set(f,{handleScroll:a,subscribers:0})}var b=l.get(f);b&&b.subscribers++;return function(){b&&--b.subscribers===0&&(f.removeEventListener("scroll",b.handleScroll),l["delete"](f),m["delete"](f))}},[f,g,e]);return g}g["default"]=a}),98);
__d("useDynamicVirtualizationMargin.react",["ExecutionEnvironment","VirtualizationContainerContext","justknobx","react","react-compiler-runtime","useDebouncedComet","useWeightedScrollSpeedRef.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useContext,k=b.useEffect,l=b.useRef,m=b.useState,n=c("justknobx")._("3655")/10,o=c("justknobx")._("3656"),p=c("justknobx")._("3657"),q=c("justknobx")._("3658"),r=c("justknobx")._("3659");function s(a,b){return a.bottom===b.bottom&&a.left===b.left&&a.right===b.right&&a.top===b.top}function a(a,b,e,f,g){var i=d("react-compiler-runtime").c(19),t=a===void 0?!1:a,u=f===void 0?!1:f,v=g===void 0?null:g;i[0]!==b||i[1]!==e?(a={bottom:e,left:b,right:b,top:e},i[0]=b,i[1]=e,i[2]=a):a=i[2];f=m(a);g=f[0];var w=f[1],x=l(0),y=c("useWeightedScrollSpeedRef.react")(v),z=j(c("VirtualizationContainerContext"));i[3]!==e||i[4]!==t||i[5]!==u||i[6]!==y?(b=function(a){if(!t)return;a=a();var b=a>x.current;x.current=a;w(function(a){var c=window.innerHeight,d=y.weightedSpeed;d=d===0?1:d/r;d=q*d;var f=u?1:n,g=u?n:1;f=Math.min(e*f,c);g=Math.min(e*g,c);c=c/p;var h;b?h=babelHelpers["extends"]({},a,{bottom:Math.min(g,a.bottom+d),top:Math.min(f,Math.max(c,a.top-d))}):h=babelHelpers["extends"]({},a,{bottom:Math.min(g,Math.max(c,a.bottom-d)),top:Math.min(f,a.top+d)});return s(a,h)?a:h})},i[3]=e,i[4]=t,i[5]=u,i[6]=y,i[7]=b):b=i[7];a=b;i[8]===Symbol["for"]("react.memo_cache_sentinel")?(f={wait:o},i[8]=f):f=i[8];var A=c("useDebouncedComet")(a,f);i[9]!==A||i[10]!==t||i[11]!==v||i[12]!==(z==null?void 0:z.rootElementRef)?(b=function(){if(!t)return;var a=typeof v==="function"?v():z==null?void 0:z.rootElementRef.current,b=!a,d=b?window:a;if(!(h||(h=c("ExecutionEnvironment"))).canUseDOM||typeof window==="undefined")return;var e=function(){var c=b?window.scrollY:a==null?void 0:a.scrollTop;return c!=null?c:0},f=function(){A(e)};d==null||d.addEventListener("scroll",f,{passive:!0});return function(){d==null||d.removeEventListener("scroll",f,{passive:!0})}},i[9]=A,i[10]=t,i[11]=v,i[12]=z==null?void 0:z.rootElementRef,i[13]=b):b=i[13];a=z==null?void 0:z.rootElementRef;i[14]!==A||i[15]!==t||i[16]!==v||i[17]!==a?(f=[v,a,A,t],i[14]=A,i[15]=t,i[16]=v,i[17]=a,i[18]=f):f=i[18];k(b,f);return g}g["default"]=a}),98);
__d("MutationObserver",[],(function(a,b,c,d,e,f){b=function(){function a(a){}var b=a.prototype;b.observe=function(a,b){};b.disconnect=function(){};b.takeRecords=function(){return[]};return a}();e=(d=(c=a.MutationObserver)!=null?c:a.WebKitMutationObserver)!=null?d:b;c=e;f["default"]=c}),66);
__d("useMutationObserver",["MutationObserver","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useRef;function a(a,b){var d=j({observer:null,callback:a}),e=j(null),f=j({element:null,options:null,observer:null}),g=i(function(){var a=f.current,c=a.observer,g=a.element;a=a.options;var h=d.current.observer,i=e.current;(g!=i||b!=a||h!=c)&&(c&&c.disconnect(),h&&i&&h.observe(i,b),f.current={observer:h,element:i,options:b})},[b]);(d.current.observer==null||d.current.callback!==a)&&(d.current.observer!=null&&d.current.observer.disconnect(),d.current={observer:new(c("MutationObserver"))(a),callback:a});g();return i(function(a){e.current=a,g()},[g])}g["default"]=a}),98);
__d("useMutationStableChecker",["react","useMutationObserver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef,l=b.useState;function m(a,b){var c=[];a.forEach(function(a){if(!(a instanceof HTMLElement))return;a.matches(b)&&c.push(a);c.push.apply(c,Array.from(a.querySelectorAll(b)))});return c}function n(a,b,c,d){d===void 0&&(d=!1);var e=m(b,c);return e.length===0?a:d?new Set([].concat(Array.from(a).filter(function(a){return!e.includes(a)}))):new Set([].concat(Array.from(a),e))}var o={childList:!0,subtree:!0};function a(a,b,d){var e=l(!0),f=e[0],g=e[1],h=k(),m=k(new Set()),p=c("useMutationObserver")(function(b){b.forEach(function(a){if(a.type==="childList"){var b=a.addedNodes;a=a.removedNodes;d!=null&&(m.current=n(n(m.current,b,d,!1),a,d,!0))}}),q(a)},o),q=i(function(a){h.current!=null&&window.clearTimeout(h.current),h.current=window.setTimeout(function(){m.current.size>0?q(a):(g(!0),p(null))},a)},[p]);j(function(){a>0?(p(b.current!=null?b.current:null),g(!1)):p(null);return function(){h.current!=null&&window.clearTimeout(h.current),p(null)}},[a,p,b]);return f}g["default"]=a}),98);
__d("useTimeoutStateSinceFirstMounting.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(2),c=k(a<=0),e=c[0],f=c[1],g=j(a),h=j(!1);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=function(){var a=window.setTimeout(function(){h.current||(h.current=!0,f(!0))},g.current);return function(){window.clearTimeout(a)}},a=[],b[0]=c,b[1]=a):(c=b[0],a=b[1]);i(c,a);return e}g["default"]=a}),98);
__d("useVirtualizationContext",["VirtualizationContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext;b.useMemo;var j=b.useRef;function a(){var a=d("react-compiler-runtime").c(11),b=i(c("VirtualizationContext")),e=j(0),f;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=new Set(),a[0]=f):f=a[0];var g=j(f),h=j(!1),k=j(null);if(k.current==null){a[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=new Map(),a[1]=f):f=a[1];k.current=f}a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(a){var b;e.current=e.current+1;var c=e.current;(b=k.current)==null||b.set(c,a);return function(){var a;(a=k.current)==null||a["delete"](c)}},a[2]=f):f=a[2];f=f;var l;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(l=function(){return k.current==null?!1:k.current.size>0},a[3]=l):l=a[3];l=l;var m=j(null);if(m.current==null){var n;a[4]===Symbol["for"]("react.memo_cache_sentinel")?(n=new Map(),a[4]=n):n=a[4];m.current=n}a[5]===Symbol["for"]("react.memo_cache_sentinel")?(n=function(a,b){e.current=e.current+1;var c=e.current,d=null,f=m.current;if(f!=null){var g;f.has(a)||f.set(a,new Map());d=f.get(a);(g=d)==null||g.set(c,b)}return function(){var b;(b=d)==null||b["delete"](c);((b=d)==null?void 0:b.size)===0&&(f==null||f["delete"](a))}},a[5]=n):n=a[5];n=n;var o;a[6]===Symbol["for"]("react.memo_cache_sentinel")?(o=function(a){var b;return(b=(b=m.current)==null?void 0:b.has(a))!=null?b:!1},a[6]=o):o=a[6];o=o;var p;a[7]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(a){g.current.add(a);a(h.current);return function(){g.current["delete"](a)}},a[7]=p):p=a[7];p=p;var q;a[8]===Symbol["for"]("react.memo_cache_sentinel")?(q=function(a){h.current=a,g.current.forEach(function(b){b(a)})},a[8]=q):q=a[8];q=q;var r=j(null);a[9]!==b?(r=b!=null?b:{contentWrapperRef:r,createFlag:n,createPin:f,hasFlag:o,hasPin:l,onVirtualizationChange:q,subscribeToVirtualizationStatus:p},a[9]=b,a[10]=r):r=a[10];n=r;f=n;return f}g["default"]=a}),98);
__d("CometVirtualization.react",["BaseView.react","BaseViewHideable.react","FBLogger","HiddenSubtreeContextProvider.react","HiddenSubtreePassiveContext","VirtualizationConfig","VirtualizationContainerContext","VirtualizationContext","gkx","intersectionObserverEntryIsIntersecting","justknobx","nullIntersectionObserverEntryLogger","react","react-compiler-runtime","stylex","useDynamicVirtualizationMargin.react","useIntersectionObserver","useMergeRefs","useMutationStableChecker","usePrevious","useTimeoutStateSinceFirstMounting.react","useVirtualizationContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var aa=e.unstable_Activity;e.useCallback;var ba=e.useContext,ca=e.useEffect,k=e.useRef,l=e.useState,m=function(){var a=null;return function(){if(a===null){var b;b=(b=document)==null?void 0:b.documentElement;if(b==null)throw c("FBLogger")("comet_infra").mustfixThrow("Scroll anchoring feature detection called in an environment without a documentElement");a=b.style.overflowAnchor!=null}return a}}();function da(a,b){var c=d("react-compiler-runtime").c(3);a=a===void 0?null:a;b=b===void 0?!1:b;a=l(a);var e=a[0],f=a[1],g;c[0]!==e?(a=function(){e===null&&f(n)},g=[e],c[0]=e,c[1]=a,c[2]=g):(a=c[1],g=c[2]);ca(a,g);return b||(e!=null?e:!1)}function n(){return m()}var ea={invisible:{display:"x1s85apg",$$css:!0},resetBlockFormattingContext:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}},fa=c("justknobx")._("1003");function o(a){return typeof a.replace==="function"?a.replace(/\n/g," ").replace(/\s+/g," "):""}function a(){if(typeof IntersectionObserver!=="function")return!1;return typeof IntersectionObserver.toString!=="function"?!1:o(IntersectionObserver.toString()).endsWith("{ [native code] }")}var ga=a();function b(a){var b=arguments,e,f=d("react-compiler-runtime").c(97),g=a.activityOnlyMode,i=a.allowVirtualizationWithNullNodeHeight,m=a.children,n=a.deferVirtualizationInMs,o=a.deferVirtualizationMutationIntervalInMs,ha=a.deferVirtualizationPlaceholderSelector,ia=a.delayHeightPlaceholderMs,ja=a.disableHiding,ka=a.fasterSizeMeasurement,la=a.hiddenMode,ma=a.initialRenderConfig,p=a.innerContentXStyle,na=a.isInfiniteScrollUp,oa=a.leftRightMargin,pa=a.mountXStyle,qa=a.nullState,ra=a.pinChildrenOnInteraction,sa=a.pinChildrenWithPlayer,ta=a.ref,ua=a.scrollport,va=a.skipScrollAnchoringCheck_UNSAFE,wa=a.smartMargin,xa=a.testid,ya=a.textSearchable,za=a.topBottomMargin,q=a.unmountHiddenChildren,Aa=a.unmountXStyle,Ba=a.xstyle,Ca=g===void 0?!1:g,Da=i===void 0?!1:i,Ea=n===void 0?0:n,Fa=o===void 0?0:o,r=ia===void 0?0:ia,s=ka===void 0?!1:ka,t=la===void 0?"legacy":la,Ga=ma===void 0?d("VirtualizationConfig").DEFAULT_INIT_RENDER_CONFIG:ma,Ha=na===void 0?!1:na,u=oa===void 0?d("VirtualizationConfig").HORIZONTAL_HIDEABLE_MARGIN:oa,Ia=qa===void 0?null:qa,v=ua===void 0?null:ua,Ja=va===void 0?!1:va,Ka=wa===void 0?!1:wa,w=xa===void 0?"hideable":xa,x=ya===void 0?!1:ya,y=za===void 0?d("VirtualizationConfig").VERTICAL_HIDEABLE_MARGIN:za,La=k(null),z=k(null),Ma=ba(c("HiddenSubtreePassiveContext")),Na=l(!1),A=Na[0],Oa=Na[1],Pa=k(!0),Qa=l(Ga.isVisible),B=Qa[0],Ra=Qa[1],Sa=l(Ga.nodeHeight),C=Sa[0],D=Sa[1],Ta=l(""),E=Ta[0],Ua=Ta[1],Va=c("usePrevious")(B),Wa=c("useTimeoutStateSinceFirstMounting.react")(Ea),F=c("useVirtualizationContext")(),G=ba(c("VirtualizationContainerContext")),Xa=k(null),Ya=pa!=null?pa:Ba,Za=Aa!=null?Aa:Ba,$a;f[0]!==s||f[1]!==B||f[2]!==C||f[3]!==x?($a=function(){var a=Pa.current||C==null&&!B;if(z.current!=null&&a){s||D(z.current.getBoundingClientRect().height);if(x){Ua((a=(a=z.current)==null||(a=a.innerText)==null?void 0:a.trim())!=null?a:"")}window.clearTimeout(Xa.current)}},f[0]=s,f[1]=B,f[2]=C,f[3]=x,f[4]=$a):$a=f[4];var ab;f[5]!==s||f[6]!==B||f[7]!==C||f[8]!==x||f[9]!==Va?(ab=[s,B,C,Va,x],f[5]=s,f[6]=B,f[7]=C,f[8]=x,f[9]=Va,f[10]=ab):ab=f[10];ca($a,ab);var H=r!=null&&r>0,bb;f[11]!==r||f[12]!==s||f[13]!==Ma||f[14]!==H||f[15]!==x?(bb=function(a){c("nullIntersectionObserverEntryLogger")(a,"IntersectionObserverEntry is null. num_arguments="+b.length);var d=Ma.getCurrentState().hiddenOrBackgrounded_FIXME;if(c("intersectionObserverEntryIsIntersecting")(a))!H?(window.clearTimeout(Xa.current),D(null)):Xa.current=window.setTimeout(function(){D(null)},r),Ra(!0);else if(!d){d=s?(d=a==null?void 0:a.boundingClientRect)!=null?d:{}:a.target.getBoundingClientRect();a=d.height;d=d.width;if(a>0&&d>0){Ra(!1);s&&D(a);if(H){window.clearTimeout(Xa.current);D(a);if(x){Ua((a=(d=La.current)==null||(d=d.innerText)==null?void 0:d.trim())!=null?a:"")}}}}},f[11]=r,f[12]=s,f[13]=Ma,f[14]=H,f[15]=x,f[16]=bb):bb=f[16];var cb=bb,db=c("useMutationStableChecker")(Fa,z,ha),eb,fb;f[17]===Symbol["for"]("react.memo_cache_sentinel")?(eb=function(){Pa.current&&(Pa.current=!1)},fb=[],f[17]=eb,f[18]=fb):(eb=f[17],fb=f[18]);ca(eb,fb);var gb;f[19]!==u||f[20]!==y?(gb={bottom:y,left:u,right:u,top:y},f[19]=u,f[20]=y,f[21]=gb):gb=f[21];var hb=gb,ib=c("useDynamicVirtualizationMargin.react")(Ka,u,y,Ha,v),jb=Ka?ib:hb,kb;f[22]!==v||f[23]!==(G==null?void 0:G.rootElementRef)?(kb=function(){var a=v!=null?v==null?void 0:v():G==null?void 0:G.rootElementRef.current;return a instanceof Element?a:null},f[22]=v,f[23]=G==null?void 0:G.rootElementRef,f[24]=kb):kb=f[24];var lb=kb,I,J;f[25]!==jb?(I=babelHelpers["extends"]({},jb),J=babelHelpers["extends"]({},jb),f[25]=jb,f[26]=I,f[27]=J):(I=f[26],J=f[27]);var mb;f[28]!==I||f[29]!==J||f[30]!==lb?(mb={root:lb,rootMargin:I,scrollMargin:J,threshold:0},f[28]=I,f[29]=J,f[30]=lb,f[31]=mb):mb=f[31];var nb=c("useIntersectionObserver")(cb,mb),ob=ba(c("VirtualizationContext")),pb=c("useMergeRefs")(ob==null?F.contentWrapperRef:null,nb,La,ta),qb;bb0:{if(!A&&C!==null&&(!Da||C!=null&&C>0)&&q!==!1&&(H||!B)){var rb;f[32]!==C?(rb={minHeight:C},f[32]=C,f[33]=rb):rb=f[33];qb=rb;break bb0}qb=void 0}var K=qb,sb=!B&&(C!=null||Da===!0),tb=da((e=Ga.hasScrollAnchoring)!=null?e:null,Ja),L=fa&&tb,M=L?pb:ta;if(c("gkx")("22947")){var ub;f[34]===Symbol["for"]("react.memo_cache_sentinel")?(ub={className:"x78zum5 xdt5ytf"},f[34]=ub):ub=f[34];var vb;f[35]!==m?(vb=j.jsx("div",babelHelpers["extends"]({},ub,{children:j.jsx(c("BaseView.react"),{children:m})})),f[35]=m,f[36]=vb):vb=f[36];return vb}var wb;f[37]!==ra?(wb=function(){ra===!0&&Oa(!0)},f[37]=ra,f[38]=wb):wb=f[38];var N=wb,xb=(sa!=null?sa:!1)&&F.hasFlag("HAS_PLAYER"),yb;f[39]!==L||f[40]!==Wa||f[41]!==xb||f[42]!==sb||f[43]!==db||f[44]!==A||f[45]!==q||f[46]!==F?(yb=ga&&L&&q===!0&&sb&&!A&&!F.hasPin()&&!xb&&Wa&&db,f[39]=L,f[40]=Wa,f[41]=xb,f[42]=sb,f[43]=db,f[44]=A,f[45]=q,f[46]=F,f[47]=yb):yb=f[47];var O=yb;F.onVirtualizationChange(O);var P=L&&!(ja!=null?ja:!1)&&sb&&t!=="none",Q=x&&E!=="";if(Ca){var zb=O?Za:Ya,R;f[48]!==zb?(R=(h||(h=c("stylex")))(ea.resetBlockFormattingContext,zb),f[48]=zb,f[49]=R):R=f[49];var S;f[50]!==Q||f[51]!==E?(S=Q?j.jsx("div",{className:"xqtp20y x6ikm8r x10wlt62 xnalus7",children:E}):null,f[50]=Q,f[51]=E,f[52]=S):S=f[52];var T;f[53]!==p?(T=(h||(h=c("stylex")))(p),f[53]=p,f[54]=T):T=f[54];var Ab=O?"hidden":"visible",U;f[55]!==m||f[56]!==Ab?(U=j.jsx(aa,{mode:Ab,children:m}),f[55]=m,f[56]=Ab,f[57]=U):U=f[57];var V;f[58]!==T||f[59]!==U?(V=j.jsx("div",{className:T,ref:z,children:U}),f[58]=T,f[59]=U,f[60]=V):V=f[60];var W;f[61]!==N||f[62]!==K||f[63]!==M||f[64]!==O||f[65]!==R||f[66]!==S||f[67]!==V||f[68]!==w?(W=j.jsxs("div",{className:R,"data-testid":void 0,"data-virtualized":O,onClickCapture:N,onFocusCapture:N,onKeyPressCapture:N,ref:M,style:K,children:[S,V]}),f[61]=N,f[62]=K,f[63]=M,f[64]=O,f[65]=R,f[66]=S,f[67]=V,f[68]=w,f[69]=W):W=f[69];var Bb;f[70]!==W||f[71]!==F?(Bb=j.jsx(c("VirtualizationContext").Provider,{value:F,children:W}),f[70]=W,f[71]=F,f[72]=Bb):Bb=f[72];return Bb}var Cb=O?Za:Ya,X;f[73]!==Cb?(X=(h||(h=c("stylex")))(ea.resetBlockFormattingContext,Cb),f[73]=Cb,f[74]=X):X=f[74];var Y;f[75]!==Q||f[76]!==E?(Y=Q?j.jsx("div",{className:"xqtp20y x6ikm8r x10wlt62 xnalus7",children:E}):null,f[75]=Q,f[76]=E,f[77]=Y):Y=f[77];var Z;f[78]!==m||f[79]!==t||f[80]!==p||f[81]!==P||f[82]!==Ia||f[83]!==O?(Z=t==="legacy"?j.jsx(c("BaseViewHideable.react"),{hidden:P,ref:z,xstyle:[p,P&&ea.invisible],children:O?null:j.jsx(c("HiddenSubtreeContextProvider.react"),{isHidden:P,children:m})}):j.jsx("div",{className:(h||(h=c("stylex")))(p),ref:z,children:O?Ia:m}),f[78]=m,f[79]=t,f[80]=p,f[81]=P,f[82]=Ia,f[83]=O,f[84]=Z):Z=f[84];var $;f[85]!==N||f[86]!==K||f[87]!==M||f[88]!==O||f[89]!==X||f[90]!==Y||f[91]!==Z||f[92]!==w?($=j.jsxs("div",{className:X,"data-testid":void 0,"data-virtualized":O,onClickCapture:N,onFocusCapture:N,onKeyPressCapture:N,ref:M,style:K,children:[Y,Z]}),f[85]=N,f[86]=K,f[87]=M,f[88]=O,f[89]=X,f[90]=Y,f[91]=Z,f[92]=w,f[93]=$):$=f[93];var Db;f[94]!==$||f[95]!==F?(Db=j.jsx(c("VirtualizationContext").Provider,{value:F,children:$}),f[94]=$,f[95]=F,f[96]=Db):Db=f[96];return Db}g["default"]=b}),98);
__d("VirtualizationExperimentConfig",[],(function(a,b,c,d,e,f){"use strict";a=4e3;b=!0;c=!1;d=!1;e=!1;var g="static",h=!1,i=!1,j=new Set(["static","dynamic"]),k=new Set(["thread_view"]),l={polaris_feed_story_tray_item:{hiding_disabled:!1,pin_children_on_interaction:!0,react_activity_mode:!1,surface_enabled:!0}},m={comet_feed_unit_card:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:4e3,surface_enabled:!0},marketplace_item:{surface_enabled:!1}},n={comet_feed_unit_card:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!0,root_margin_top_bottom:500,surface_enabled:!0},comet_profile_photos:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:1e3,surface_enabled:!0},comet_tofu_stories_container:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:1e3,surface_enabled:!0},comet_watch_tab:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:4e3,surface_enabled:!0,virtualization_strategy:"dynamic"},marketplace_item:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:1e3,surface_enabled:!0},thread_list:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:500,surface_enabled:!0},thread_view:{hiding_disabled:!1,is_at_bottom_scroll_up:!0,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:500,surface_enabled:!0}};f.DEFAULT_TOP_BOTTOM_MARGIN=a;f.DEFAULT_PIN_CHILDREN_ON_INTERACTION=b;f.DEFAULT_PIN_CHILDREN_WITH_PLAYER=c;f.DEFAULT_DISABLE_HIDING=d;f.DEFAULT_ACTIVITY_MODE_ON=e;f.DEFAULT_VIRTUALIZATION_STRATEGY=g;f.DEFAULT_AT_BOTTOM_SCROLL_UP=h;f.DEFAULT_TEXT_SEARCHABLE=i;f.VALID_STRATEGIES=j;f.infiniteScrollUpSurfaces=k;f.ROLLOUT_CONFIG=l;f.GK_HOLDOUT_CONFIG=m;f.GK_ROLLOUT_CONFIG=n}),66);
__d("VirtualizationExperimentSettings",["QE2Logger","VirtualizationExperimentConfig","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("gkx")("2548"),j=c("gkx")("221");function k(a){if(Object.prototype.hasOwnProperty.call(d("VirtualizationExperimentConfig").ROLLOUT_CONFIG,a))return d("VirtualizationExperimentConfig").ROLLOUT_CONFIG;else if(i&&Object.prototype.hasOwnProperty.call(d("VirtualizationExperimentConfig").GK_HOLDOUT_CONFIG,a))return d("VirtualizationExperimentConfig").GK_HOLDOUT_CONFIG;else if(j&&Object.prototype.hasOwnProperty.call(d("VirtualizationExperimentConfig").GK_ROLLOUT_CONFIG,a))return d("VirtualizationExperimentConfig").GK_ROLLOUT_CONFIG;return null}var l=function(a){var b=k(a);return b==null?void 0:b[a]},m=new Set(((h=c("qex")._("641"))!=null?h:"").split(",").map(function(a){return a.trim()}));function a(a){var b=new Map();return function(c){if(b.has(c))return b.get(c);var d=a(c);b.set(c,d);return d}}function b(a){if(m.has(a))return!0;a=l(a);return(a=a==null?void 0:a.surface_enabled)!=null?a:!1}h=a(b);function e(a){var b=new Map();a.split(",").forEach(function(a){a=a.trim();a=a.split(":");var c=a[0];a=a[1];c=(c=c==null?void 0:c.trim())!=null?c:"";a=parseInt((a=a==null?void 0:a.trim())!=null?a:"",10);c.length>0&&!Number.isNaN(a)&&b.set(c,a)});return b}var n=e((b=c("qex")._("628"))!=null?b:"");function f(a){if(n.has(a)){var b;return(b=n.get(a))!=null?b:d("VirtualizationExperimentConfig").DEFAULT_TOP_BOTTOM_MARGIN}b=l(a);return(a=b==null?void 0:b.root_margin_top_bottom)!=null?a:d("VirtualizationExperimentConfig").DEFAULT_TOP_BOTTOM_MARGIN}e=a(f);var o=new Set(((b=c("qex")._("642"))!=null?b:"all").split(",")),p=new Set();function q(a){if(p.has(a))return;(o.has("all")||o.has(a))&&d("QE2Logger").logExposureForActingAccount("comet_front_end_virtualization");p.add(a)}var r=(f=c("qex")._("4937"))!=null?f:d("VirtualizationExperimentConfig").DEFAULT_ACTIVITY_MODE_ON;function s(a){if(m.has(a))return r!=null?r:!1;a=l(a);return(a=a==null?void 0:a.react_activity_mode)!=null?a:!1}b=a(s);var t=(f=c("qex")._("648"))!=null?f:d("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_ON_INTERACTION;function u(a){if(m.has(a))return t!=null?t:!0;a=l(a);return(a=a==null?void 0:a.pin_children_on_interaction)!=null?a:!0}s=a(u);u=(f=c("qex")._("339"))!=null?f:"default";var v=u==="disable"?!0:u==="enable"?!1:null;function w(a){if(m.has(a))return v!=null?v:d("VirtualizationExperimentConfig").DEFAULT_DISABLE_HIDING;a=l(a);return(a=a==null?void 0:a.hiding_disabled)!=null?a:d("VirtualizationExperimentConfig").DEFAULT_DISABLE_HIDING}f=a(w);var x=(u=c("qex")._("885"))!=null?u:d("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_WITH_PLAYER;function y(a){if(m.has(a))return x!=null?x:d("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_WITH_PLAYER;a=l(a);return(a=a==null?void 0:a.pin_children_with_player)!=null?a:d("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_WITH_PLAYER}w=a(y);function z(a){var b=new Map();a.split(",").forEach(function(a){a=a.trim();a=a.split(":");var c=a[0];a=a[1];c=(c=c==null?void 0:c.trim())!=null?c:"";a=a==null?void 0:a.trim();a=d("VirtualizationExperimentConfig").VALID_STRATEGIES.has(a)?a:d("VirtualizationExperimentConfig").DEFAULT_VIRTUALIZATION_STRATEGY;c.length>0&&b.set(c,a)});return b}var A=z((u=c("qex")._("1851"))!=null?u:"");function B(a){if(A.has(a)){var b;return(b=A.get(a))!=null?b:d("VirtualizationExperimentConfig").DEFAULT_VIRTUALIZATION_STRATEGY}b=l(a);return(a=b==null?void 0:b.virtualization_strategy)!=null?a:d("VirtualizationExperimentConfig").DEFAULT_VIRTUALIZATION_STRATEGY}function C(){var a=c("gkx")("221"),b=c("gkx")("6600");return a&&b}y=a(B);z=function(a){var b=l(a);return(b==null?void 0:b.is_at_bottom_scroll_up)===!0?!0:d("VirtualizationExperimentConfig").infiniteScrollUpSurfaces.has(a)?!0:d("VirtualizationExperimentConfig").DEFAULT_AT_BOTTOM_SCROLL_UP};var D=(u=c("qex")._("5027"))!=null?u:d("VirtualizationExperimentConfig").DEFAULT_TEXT_SEARCHABLE;function E(a){if(m.has(a))return D!=null?D:d("VirtualizationExperimentConfig").DEFAULT_TEXT_SEARCHABLE;a=l(a);return(a=a==null?void 0:a.text_searchable)!=null?a:d("VirtualizationExperimentConfig").DEFAULT_TEXT_SEARCHABLE}B=a(E);g.isSurfaceEnabled=h;g.getTopBottomMargin=e;g.logQEExposureOnceWhenNecessary=q;g.getActivityModeOn=b;g.getPinChildrenOnInteration=s;g.isHidingDisabled=f;g.getPinChildrenWithPlayer=w;g.getSkipScrollAnchoringCheck=C;g.getVirtualizationStrategy=y;g.getIsInfiniteScrollUp=z;g.getTextSearchable=B}),98);
__d("CometHideableComponentExperiment.react",["CometVirtualization.react","VirtualizationExperimentSettings","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(39),e=a.callingSurface,f=a.children,g=a.disableHiding,h=a.mountXStyle,k=a.scrollport,l=a.topBottomMarginOverride,m=a.unmountXStyle;a=a.xstyle;k=k===void 0?null:k;var n;b[0]!==e?(n=d("VirtualizationExperimentSettings").isSurfaceEnabled(e),b[0]=e,b[1]=n):n=b[1];n=n;var o;b[2]!==e||b[3]!==g||b[4]!==n?(o=g!=null?g:d("VirtualizationExperimentSettings").isHidingDisabled(e)||!n,b[2]=e,b[3]=g,b[4]=n,b[5]=o):o=b[5];g=o;var p;b[6]!==e?(o=function(){return d("VirtualizationExperimentSettings").logQEExposureOnceWhenNecessary(e)},p=[e],b[6]=e,b[7]=o,b[8]=p):(o=b[7],p=b[8]);j(o,p);o=d("VirtualizationExperimentSettings").getVirtualizationStrategy(e);p=o!=="static";b[9]!==e?(o=d("VirtualizationExperimentSettings").getActivityModeOn(e),b[9]=e,b[10]=o):o=b[10];o=o;var q;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(q=d("VirtualizationExperimentSettings").getSkipScrollAnchoringCheck(),b[11]=q):q=b[11];q=q;var r;b[12]!==e?(r=d("VirtualizationExperimentSettings").getIsInfiniteScrollUp(e),b[12]=e,b[13]=r):r=b[13];r=r;var s;b[14]!==e?(s=d("VirtualizationExperimentSettings").getTextSearchable(e),b[14]=e,b[15]=s):s=b[15];s=s;var t;b[16]!==e||b[17]!==n?(t=n&&d("VirtualizationExperimentSettings").getPinChildrenOnInteration(e),b[16]=e,b[17]=n,b[18]=t):t=b[18];var u;b[19]!==e?(u=d("VirtualizationExperimentSettings").getPinChildrenWithPlayer(e),b[19]=e,b[20]=u):u=b[20];var v;b[21]!==e||b[22]!==l?(v=l!=null&&l>=0?l:d("VirtualizationExperimentSettings").getTopBottomMargin(e),b[21]=e,b[22]=l,b[23]=v):v=b[23];b[24]!==o||b[25]!==f||b[26]!==n||b[27]!==g||b[28]!==r||b[29]!==p||b[30]!==h||b[31]!==k||b[32]!==t||b[33]!==u||b[34]!==v||b[35]!==s||b[36]!==m||b[37]!==a?(l=i.jsx(c("CometVirtualization.react"),{activityOnlyMode:o,disableHiding:g,isInfiniteScrollUp:r,mountXStyle:h,pinChildrenOnInteraction:t,pinChildrenWithPlayer:u,scrollport:k,skipScrollAnchoringCheck_UNSAFE:q,smartMargin:p,textSearchable:s,topBottomMargin:v,unmountHiddenChildren:n,unmountXStyle:m,xstyle:a,children:f}),b[24]=o,b[25]=f,b[26]=n,b[27]=g,b[28]=r,b[29]=p,b[30]=h,b[31]=k,b[32]=t,b[33]=u,b[34]=v,b[35]=s,b[36]=m,b[37]=a,b[38]=l):l=b[38];return l}g["default"]=a}),98);
__d("ResumableTimer",["clearTimeout","performanceNow","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b){this.startedTime=0,this.timeRemaining=b,this.originalTimeout=b,this.callback=a,this.run()}var b=a.prototype;b.run=function(){this.startedTime=(h||(h=c("performanceNow")))(),this.timeRemaining>0&&(this.timerID=c("setTimeout")(this.callback,this.timeRemaining))};b.pause=function(){var a=(h||(h=c("performanceNow")))();this.timeRemaining-=a-this.startedTime;c("clearTimeout")(this.timerID)};b.stop=function(){c("clearTimeout")(this.timerID)};b.getTimeElapsed=function(){var a=this.originalTimeout-this.timeRemaining;return a};return a}();g["default"]=a}),98);
__d("useCometTailLoadGlimmerTracker",["CometTailLoadLogger","ResumableTimer","emptyFunction","intersectionObserverEntryIsIntersecting","performanceNow","react","react-compiler-runtime","useCometRouteTracePolicy","useOnBeforeUnload"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");b.useCallback;var j=b.useEffect,k=b.useRef,l=15e3;function a(a,b,e){var f=d("react-compiler-runtime").c(12),g=k(null),i=k(-1),m=k(-1),n=k(0),o=k(!1),p=k(null),q=k(null),r=k(-1),s;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(s=new(c("ResumableTimer"))(c("emptyFunction"),0),f[0]=s):s=f[0];var t=k(s),u=c("useCometRouteTracePolicy")();a!=null&&d("CometTailLoadLogger").setTailLoadStartTime(a,e);f[1]!==a||f[2]!==b||f[3]!==u?(s=function(){if(a!=null&&o.current===!0){t.current.pause();var e=t.current.getTimeElapsed();e<l&&(d("CometTailLoadLogger").reportInterruptedConsumption(a,i.current,e),d("CometTailLoadLogger").endTailloadTracing(a,b,(h||(h=c("performanceNow")))(),706,u))}d("CometTailLoadLogger").reset()},f[1]=a,f[2]=b,f[3]=u,f[4]=s):s=f[4];c("useOnBeforeUnload")(s);var v;f[5]===Symbol["for"]("react.memo_cache_sentinel")?(s=function(){return function(){q.current&&q.current(),q.current=null}},v=[],f[5]=s,f[6]=v):(s=f[5],v=f[6]);j(s,v);f[7]!==a||f[8]!==b||f[9]!==e||f[10]!==u?(s=function(f){if(a!=null&&f&&(i.current!==b||g.current!==f)){g.current=f;q.current&&(q.current(),q.current=null);if(o.current){var j=p.current;j!=null&&(n.current=n.current+((h||(h=c("performanceNow")))()-j));p.current=(h||(h=c("performanceNow")))();o.current=!1}i.current!==b&&(n.current>0&&(t.current.stop(),d("CometTailLoadLogger").reportInterruptedConsumption(a,i.current,n.current),m.current=i.current),i.current=b,n.current=0);j=function(f){Array.prototype.forEach.call(f,function(f){if(c("intersectionObserverEntryIsIntersecting")(f)&&!o.current)o.current=!0,p.current=f.time,a!=null&&(i.current===b&&r.current!==i.current?(d("CometTailLoadLogger").startTailLoadTracing(a,i.current,e),r.current=i.current,t.current=new(c("ResumableTimer"))(function(){d("CometTailLoadLogger").endTailloadTracing(a,i.current,(h||(h=c("performanceNow")))(),113,u)},l)):t.current.run());else if(!c("intersectionObserverEntryIsIntersecting")(f)&&o.current){o.current=!1;var g=p.current;g!=null&&(n.current=n.current+(f.time-g));t.current.pause()}})};var k=new IntersectionObserver(j);k.observe(f);q.current=function(){k.disconnect()}}},f[7]=a,f[8]=b,f[9]=e,f[10]=u,f[11]=s):s=f[11];return s}g["default"]=a}),98);
__d("CometInfiniteScrollSuspenseList.react",["CometGHLFeedClassContext","CometGHLFeedRandomElementWrapperContext","CometPageletWithDiv.react","CometPlaceholder.react","CometSSRSuspendOnServer.react","CometSuspenseList.react","ExecutionEnvironment","GHLMitigationsGating","cr:1142206","emptyFunction","gkx","performanceNow","qex","react","react-compiler-runtime","stylex","useCometTailLoadGlimmerTracker","useMergeRefs","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));e=k;var m=e.Children,n=e.startTransition,o=e.useCallback,p=e.useContext,q=e.useEffect,r=e.useRef,s=e.useState;function t(a){var e=d("react-compiler-runtime").c(13),f=a.onLoadMore,g=a.root,i=a.rootMargin;a=a.triggerXStyle;var j=r(!1),k;e[0]!==f?(k=function(){b("cr:1142206")!=null&&b("cr:1142206").log("[onVisible] fired",{alreadyTriggered:j.current});if(j.current)return;j.current=!0;f()},e[0]=f,e[1]=k):k=e[1];k=k;i=i!=null?i:0;var m;e[2]!==g||e[3]!==i?(m={root:g,rootMargin:i},e[2]=g,e[3]=i,e[4]=m):m=e[4];e[5]!==k||e[6]!==m?(g={onVisible:k,options:m},e[5]=k,e[6]=m,e[7]=g):g=e[7];i=c("useVisibilityObserver")(g);e[8]!==a?(k=(h||(h=c("stylex"))).props(a),e[8]=a,e[9]=k):k=e[9];e[10]!==k||e[11]!==i?(m=l.jsx("div",babelHelpers["extends"]({},k,{ref:i})),e[10]=k,e[11]=i,e[12]=m):m=e[12];return m}function a(a){var b=a.children,e=a.endGlimmerRef,g=a.hasMore,h=a.isLoading,k=a.listGlimmer,u=a.onLoadMore,v=a.pageletLogNamePoisitionLimit,w=a.pageletName,x=a.positionLimitForSSR,y=a.revealOrder,z=a.root,A=a.rootMargin,B=a.stopFutureTailLoads;B=B===void 0?!1:B;a=a.triggerXStyle;var C=s(0),D=C[0],E=C[1],F=p(c("CometGHLFeedClassContext")),G=p(c("CometGHLFeedRandomElementWrapperContext")),H=r(null),I=r(0);C=g;var J=o(function(){I.current=(i||(i=c("performanceNow")))(),n(function(){E(function(a){return a+1}),u(H)})},[u,H]),K=0,L=c("gkx")("22882");b=m.map(b,function(a){var b=x!=null&&K>x,e=w!=null?l.jsx(d("CometPageletWithDiv.react").Placeholder,{className:L&&F&&!d("GHLMitigationsGating").getIsGHLFakeCanvasEnabled()?"x1lliihq":void 0,fallback:k,ignoreLateMutation:b,name:w,pageletLogNamePoisitionLimit:v,position:K++,trackTailLoad:!0,children:b&&!(j||(j=c("ExecutionEnvironment"))).canUseDOM?l.jsx(c("CometSSRSuspendOnServer.react"),{}):a}):l.jsx(c("CometPlaceholder.react"),{fallback:k,name:f.id,children:a});return a?w!=null&&G.enabled===!0&&b?G.wrapWithRandomElement(e):e:null});var M=s(!1),N=M[0],O=M[1];q(function(){return O(!0)},[]);if(g&&!h&&N){g=l.jsx(t,{onLoadMore:B&&((M=c("qex")._("3689"))!=null?M:!1)?c("emptyFunction"):J,root:z,rootMargin:A,triggerXStyle:a},"tailTrigger"+D);y==="unstable_legacy-backwards"?b.unshift(g):b.push(g)}h=K;N=c("useCometTailLoadGlimmerTracker")(w,h,I);B=c("useMergeRefs")(e,H,N);return l.jsxs(l.Fragment,{children:[C&&y==="unstable_legacy-backwards"?l.jsx("div",{ref:B,children:k},"glimmerBackwards"):null,l.jsx(c("CometSuspenseList.react"),{revealOrder:y||"forwards",tail:"hidden",children:b},"list"),l.jsx("div",{"data-testid":void 0}),C&&y!=="unstable_legacy-backwards"?l.jsx("div",{className:"x1xzczws",ref:B,children:k},"glimmer"):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometInfiniteScrollSuspenseListIncrementalRenderer.react",["CometDefaultPageSizes","CometInfiniteScrollSuspenseList.react","FBLogger","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["pageSizes","children","hasMore","isLoading","onLoadMore","revealOrder"],i,j=i||(i=d("react"));b=i;var k=b.Children;b.useCallback;b.useMemo;var l=b.useRef,m=b.useState;function a(a){var b=d("react-compiler-runtime").c(25),e,f,g,i,n,o,p;b[0]!==a?(o=a.pageSizes,e=a.children,f=a.hasMore,g=a.isLoading,i=a.onLoadMore,p=a.revealOrder,n=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=n,b[6]=o,b[7]=p):(e=b[1],f=b[2],g=b[3],i=b[4],n=b[5],o=b[6],p=b[7]);var q=o===void 0?c("CometDefaultPageSizes"):o;a=p===void 0?"forwards":p;o=m(q[0]);var r=o[0],s=o[1],t=l(1),u=k.count(e);p=r<u;if(a!=="forwards")throw c("FBLogger")("comet_feed").mustfixThrow('CometInfiniteScrollSuspenseListIncrementalRenderer currently only supports revealOrder="forwards"');b[8]!==f||b[9]!==g||b[10]!==u||b[11]!==r||b[12]!==i||b[13]!==q?(o=function(a){t.current=Math.min(t.current,q.length-1);var b=q[t.current],c=r<u;c?(t.current=t.current+1,s(r+b)):f&&!g&&(r===u&&(t.current=t.current+1,s(r+b)),i(a))},b[8]=f,b[9]=g,b[10]=u,b[11]=r,b[12]=i,b[13]=q,b[14]=o):o=b[14];o=o;var v;b[15]!==e||b[16]!==r?(v=k.toArray(e).slice(0,r),b[15]=e,b[16]=r,b[17]=v):v=b[17];e=v;v=e;e=f||p;p=g&&!p;var w;b[18]!==o||b[19]!==n||b[20]!==v||b[21]!==a||b[22]!==e||b[23]!==p?(w=j.jsx(c("CometInfiniteScrollSuspenseList.react"),babelHelpers["extends"]({},n,{hasMore:e,isLoading:p,onLoadMore:o,revealOrder:a,children:v})),b[18]=o,b[19]=n,b[20]=v,b[21]=a,b[22]=e,b[23]=p,b[24]=w):w=b[24];return w}g["default"]=a}),98);
__d("CometMetricsChannel2ViewabilityFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1960868");b=d("FalcoLoggerInternal").create("comet_metrics_channel2_viewability",a);e=b;g["default"]=e}),98);
__d("CometMetricsFullViewFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1936086");b=d("FalcoLoggerInternal").create("comet_metrics_full_view",a);e=b;g["default"]=e}),98);
__d("CometMetricsViewabilityFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1948176");b=d("FalcoLoggerInternal").create("comet_metrics_viewability",a);e=b;g["default"]=e}),98);
__d("CometNewsFeedVPVDStore_newsFeedEdge.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"CometNewsFeedVPVDStore_newsFeedEdge"};e.exports=a}),null);
__d("CometNewsFeedVPVDStore",["CircularBuffer","CometNewsFeedVPVDStore_newsFeedEdge.graphql","CometRelay","emptyFunction","react","react-compiler-runtime","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i,l=k.useContext;k.useMemo;var m=new Map();function a(a){a===void 0&&(a=0);var b=Array.from(m.entries()),c=0,d,e=!1;b.forEach(function(a,b){(!e&&a[1].start>=c||a[1].end==null)&&(c=a[1].start,d=b,e=e||a[1].end==null)});if(d==null)return[];if(a>0)a=Math.max(0,d-(a-1));else{a=d;for(var f=d-1;f>=0;f--){if(b[f][1].end!=null)break;a=f}}return b.slice(a,d+1).map(function(a){return a[0]})}function e(){m.clear()}k=function(){var a=new(c("CircularBuffer"))(50);return{readRecentVPVDs:function(){var b=a.read();a.clear();return b},writeRecentVPVD:function(b,e,f){var g,h,i,j,k,l,m=p(e);e=a.read().find(function(a){var b;a=a.vsid;return(m==null||(b=m.feed_backend_data)==null?void 0:b.vsid)===a});if(e)return;a.write({client_vpv_token:c("uuidv4")(),evt:"vpv",feed_backend_data_serialized_payloads:m==null||(g=m.feed_backend_data)==null?void 0:g.serialized_payloads,fetch_tracking:m==null||(h=m.feed_backend_data)==null?void 0:h.should_recent_vpv_fetch_tracking_data,original_qid:m==null||(i=m.feed_backend_data)==null?void 0:i.original_qid,qid:m==null||(j=m.feed_backend_data)==null?void 0:j.qid,timestamp:f,vsid:m==null||(k=m.feed_backend_data)==null?void 0:k.vsid,vspos:m==null||(l=m.feed_backend_data)==null?void 0:l.vspos});d("CometRelay").commitLocalUpdate(b,function(a){a=a.get((a=(a=m.node)==null?void 0:a.id)!=null?a:"");if(a==null)return;a.setValue(!0,"__has_been_seen")})}}};var n=j.createContext(),o=j.createContext([c("emptyFunction"),c("emptyFunction")]);function f(a){var b=d("react-compiler-runtime").c(12),c=a.children,e=a.environment,f=a.newsFeedEdge,g=l(n);b[0]!==e||b[1]!==f||b[2]!==g?(a=function(a){g&&g.writeRecentVPVD(e,f,a);a=(a=p(f).feed_backend_data)==null?void 0:a.vsid;a!=null&&m.set(a,{end:null,start:Date.now()})},b[0]=e,b[1]=f,b[2]=g,b[3]=a):a=b[3];var h;b[4]!==f?(h=function(a){a=(a=p(f).feed_backend_data)==null?void 0:a.vsid;a!=null&&m.set(a,{end:Date.now(),start:(a=(a=m.get(a))==null?void 0:a.start)!=null?a:Date.now()})},b[4]=f,b[5]=h):h=b[5];var i;b[6]!==a||b[7]!==h?(i=[a,h],b[6]=a,b[7]=h,b[8]=i):i=b[8];a=i;h=a;b[9]!==c||b[10]!==h?(i=j.jsx(o.Provider,{value:h,children:c}),b[9]=c,b[10]=h,b[11]=i):i=b[11];return i}function p(a){return d("CometRelay").readInlineData(h!==void 0?h:h=b("CometNewsFeedVPVDStore_newsFeedEdge.graphql"),a)}g.readVisibleViewstateIDs=a;g.resetVisibleViewstateIDs=e;g.createStore=k;g.StoreContext=n;g.LoggerContext=o;g.LoggerProvider=f}),98);
__d("CometTailLoadDebugger",[],(function(a,b,c,d,e,f){"use strict";var g=[];function a(){return g}function b(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];g.push([new Date().toLocaleString()].concat(b))}f.dump=a;f.log=b}),66);
__d("MerlinImpressionManager",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum").Mirrored(["Enter","Exit","Update"]);function a(a,b,c,d,e){a={itemId:c,status:g.Enter,time:a};j(a,d,e);a={itemId:c,status:g.Exit,time:b};j(a,d,e)}function h(a,b){if(b[a]==null)return!1;b=b[a].entries;if(b.length===0)return!1;a=b[b.length-1];return a.exit!==0}function i(a,b){var c={entries:[],itemId:b.itemId};switch(b.status){case g.Enter:c=k(a,b);break;case g.Exit:c=l(a,b);break;case g.Update:break}return c}function j(a,b,c){var d=a.itemId,e=b[d];e==null&&(e={entries:[],itemId:d});b[d]=i(e,a);h(d,b)&&(c(b[d].entries),delete b[d])}function k(a,b){b={enter:b.time,exit:0};return babelHelpers["extends"]({},a,{entries:a.entries.concat(b)})}function l(a,b){var c=[].concat(a.entries),d=c[c.length-1];if(d==null)return a;if(d.enter!==0&&d.exit===0){d={enter:d.enter,exit:b.time};c[c.length-1]=d}return babelHelpers["extends"]({},a,{entries:c})}f.MerlinImpressionStatus=g;f.logVisibilityTimestamps=a;f.mergeVPVData=i}),66);
__d("MerlinUnifiedProtocolEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1886750");b=d("FalcoLoggerInternal").create("merlin_unified_protocol_event",a);e=b;g["default"]=e}),98);
__d("FBMerlinImpressionManager",["MerlinImpressionManager","MerlinUnifiedProtocolEventFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h="fb_unknown",i={},j=new Set([78]),k=new Map([[78,"fb_search"],[0,"fb_newsfeed"],[26,"fb_xar_comments"]]);function a(a){return a===0||l(a)?!0:!1}function l(a){return a==null?!1:j.has(a)}function b(a,b,e,f,g){var j=function(a){var b=k.get(f);c("MerlinUnifiedProtocolEventFalcoEvent").log(function(){var c;return{element_visibility_absolute_ts:{min_visible_px:a.map(function(a){return{enter_ts:a.enter.toString(),exit_ts:a.exit.toString()}})},entity_id:e,origin:b!=null?b:h,payload:{placeholder_payload:(c=JSON.stringify(g))!=null?c:"{}"}}})};d("MerlinImpressionManager").logVisibilityTimestamps(a,b,e,i,j)}e={isMerlinVPVOnlySources:l,logWithEnterAndExitTimestamps:b,merlinShouldLog:a};g["default"]=e}),98);
__d("GhlSwankFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1955947");b=d("FalcoLoggerInternal").create("ghl_swank",a);e=b;g["default"]=e}),98);
__d("PercentVisible",[],(function(a,b,c,d,e,f){a=-1;b=0;c=50;d=100;f.NO_VISIBLE=a;f.VISIBLE_0_PCT=b;f.VISIBLE_50_PCT=c;f.VISIBLE_100_PCT=d}),66);
__d("WebVpvDurationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1837580");b=d("FalcoLoggerInternal").create("web_vpv_duration",a);e=b;g["default"]=e}),98);
__d("XPrivacySandboxTopicsAPIReportingControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/privacy_sandbox/topics/reporting/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("getCentralImpressionScrollSpeed",["cr:5662"],(function(a,b,c,d,e,f){"use strict";var g=0,h=Date.now(),i=null,j=null;function a(a){b("cr:5662").listen(window,"scroll",function(){j&&clearTimeout(j),j=setTimeout(function(){return a()},100)},b("cr:5662").Priority.NORMAL,{passive:!0})}function k(){var a=window.scrollY,b=Date.now();if(i!=null&&b!==h){var c=a-i;g=c/(b-h)*1e3}i=a;h=b}a(function(){g=0,i=null});b("cr:5662").listen(window,"scroll",function(){return k()},b("cr:5662").Priority.NORMAL,{passive:!0});e.exports=function(){return g}}),null);
__d("getCentralImpressionTimeAfterRefresh",[],(function(a,b,c,d,e,f){"use strict";var g=null;window.addEventListener("load",function(){g=Date.now()},{passive:!0});function a(){return g!=null?Date.now()-g:0}f["default"]=a}),66);
__d("gpsTopicsConstants",[],(function(a,b,c,d,e,f){"use strict";a={LOGGING_EVENT_NAME:"topics_api_reporting",LOGGING_PROJECT_NAME:"privacy_sandbox_topics_api",MESSAGE_PREFIX:"[Topics API][Comet Reporting]"};b=a;f["default"]=b}),66);
__d("isTopicsAPIEnabledForReporting",["FBLogger","gkx","gpsTopicsConstants","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(){if(navigator.userAgent.indexOf("Chrome")<0){if(c("justknobx")._("4782")){var a=c("gpsTopicsConstants").MESSAGE_PREFIX+" user-agent topic reporting check failed for agent: "+navigator.userAgent;c("FBLogger")(c("gpsTopicsConstants").LOGGING_PROJECT_NAME,c("gpsTopicsConstants").LOGGING_EVENT_NAME).debug(a)}return!1}return c("gkx")("6546")}g["default"]=a}),98);
__d("localStorageAccessor",["FBLogger","WebStorage","gpsTopicsConstants"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(){try{var a=(h||(h=c("WebStorage"))).getLocalStorage();if(a==null)return!1}catch(b){a=b instanceof Error&&Object.prototype.hasOwnProperty.call(b,"message")?b.message:"Unknown";a=c("gpsTopicsConstants").MESSAGE_PREFIX+" isLocalItemSupported issue: "+a;c("FBLogger")(c("gpsTopicsConstants").LOGGING_PROJECT_NAME,c("gpsTopicsConstants").LOGGING_EVENT_NAME).warn(a);return!1}return!0};a=function(a,b){if(!i())return;var d=(h||(h=c("WebStorage"))).getLocalStorage();h.setItemGuarded(d,a,b.toString())};b=function(a){if(!i())return null;var b=(h||(h=c("WebStorage"))).getLocalStorage();if(b==null)return null;b=b.getItem(a);if(b==null)return null;a=Number(b);return a};g.isLocalItemSupported=i;g.getLocalItem=b;g.setLocalItem=a}),98);
__d("registerSourceForView",["DTSG","DTSGUtils","SprinkleConfig","XCometPrivacySandboxRegisterSourceControllerRouteBuilder","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(!c("justknobx")._("1464"))return;var e={eventSourceEligible:!0,triggerEligible:!1},f={},g=c("XCometPrivacySandboxRegisterSourceControllerRouteBuilder").buildUri({}).toString();a!=null&&a.length>0?f.eid=a:b!=null&&b.length>0&&(f.xt=b);a=d("DTSG").getToken();a!=null&&a.length>0&&(f.fb_dtsg=a,c("SprinkleConfig").param_name.length>0&&(f[c("SprinkleConfig").param_name]=c("DTSGUtils").getNumericValue(a)));b=Object.keys(f).map(function(a){return[encodeURIComponent(a),encodeURIComponent(f[a])].join("=")}).join("&");window.fetch(g,{attributionReporting:e,body:b,headers:{"Content-Type":"application/x-www-form-urlencoded"},keepalive:!0,method:"POST"})["catch"](function(){})}g["default"]=a}),98);
__d("shouldReportTopicsOnSchedule",["FBLogger","gpsTopicsConstants","justknobx","localStorageAccessor"],(function(a,b,c,d,e,f,g){"use strict";var h="topicsLastReportingTime",i=60*60*1e3;function a(){var a=c("justknobx")._("4782"),b=d("localStorageAccessor").isLocalItemSupported();if(a){a=c("gpsTopicsConstants").MESSAGE_PREFIX+" on-schedule reporting support status: "+String(b)+", for reporting agent: "+navigator.userAgent;c("FBLogger")(c("gpsTopicsConstants").LOGGING_PROJECT_NAME,c("gpsTopicsConstants").LOGGING_EVENT_NAME).debug(a)}if(!b)return!1;a=!1;try{b=d("localStorageAccessor").getLocalItem(h);if(b==null){d("localStorageAccessor").setLocalItem(h,Date.now());return!0}b=Number(b);var e=Date.now();e=Number(e);var f=c("justknobx")._("4792");a=e-b>=f*i;a&&d("localStorageAccessor").setLocalItem(h,Date.now())}catch(d){e=d instanceof Error&&Object.prototype.hasOwnProperty.call(d,"message")?d.message:"Unknown";b=c("gpsTopicsConstants").MESSAGE_PREFIX+" shouldReportTopicsOnSchedule issue: "+e;c("FBLogger")(c("gpsTopicsConstants").LOGGING_PROJECT_NAME,c("gpsTopicsConstants").LOGGING_EVENT_NAME).warn(b);a=!1}return a}g["default"]=a}),98);
__d("reportTopicsForView",["DTSG","DTSGUtils","FBLogger","SprinkleConfig","XPrivacySandboxTopicsAPIReportingControllerRouteBuilder","gkx","gpsTopicsConstants","isTopicsAPIEnabledForReporting","shouldReportTopicsOnSchedule"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){var b={};b.token=a;a=d("DTSG").getToken();a!=null&&a.length>0&&(b.fb_dtsg=a,c("SprinkleConfig").param_name.length>0&&(b[c("SprinkleConfig").param_name]=c("DTSGUtils").getNumericValue(a)));return b},i=function(a){void window.fetch(c("XPrivacySandboxTopicsAPIReportingControllerRouteBuilder").buildURL({}),{body:Object.keys(a).map(function(b){return[encodeURIComponent(b),encodeURIComponent(a[b])].join("=")}).join("&"),browsingTopics:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},keepalive:!0,method:"POST",skipObservation:!0})["catch"](function(a){a=a==null?"Unknown":a.message;a=c("gpsTopicsConstants").MESSAGE_PREFIX+" reportTopicsThroughRouter issue: "+a;c("FBLogger")(c("gpsTopicsConstants").LOGGING_PROJECT_NAME,c("gpsTopicsConstants").LOGGING_EVENT_NAME).warn(a)})};function j(a){if(a==null||a.length===0)return;try{if(!c("isTopicsAPIEnabledForReporting")())return;if(!c("shouldReportTopicsOnSchedule")())return;i(h(a))}catch(b){a=b instanceof Error&&Object.prototype.hasOwnProperty.call(b,"message")?b.message:"Unknown";a=c("gpsTopicsConstants").MESSAGE_PREFIX+" reportTopicsForView issue: "+a;c("FBLogger")(c("gpsTopicsConstants").LOGGING_PROJECT_NAME,c("gpsTopicsConstants").LOGGING_EVENT_NAME).warn(a)}}function a(a){if(a==null||a.length===0)return;c("gkx")("13576")&&j(a)}g.reportTopicsForView=j;g.reportTopicsForViewMainObserver=a}),98);
__d("sendImpressionEnterActionValidationData",["CometMetricsChannel2ViewabilityFalcoEvent","CometTimeSpentNavigation","WebSession","getCentralImpressionScrollSpeed","getCentralImpressionTimeAfterRefresh","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g=b.impressedAt,h=c("CometTimeSpentNavigation").getPathInfo(),i=c("uuidv4")(),j=c("getCentralImpressionScrollSpeed")(),k=d("WebSession").getId(),l={intersect_rect:b.intersectionRect,root:b.rootBounds,target_rect:b.boundingClientRect};c("CometMetricsChannel2ViewabilityFalcoEvent").logImmediately(function(){return{csp:f.csp!=null?String(f.csp):"",cts:g.toString(),eid:f.eid!=null?String(f.eid):"",event_trace_id:i,framework:a,me:h?h.name:null,pre_rs:e?e.invisibleReason:null,rects:l,scroll_speed:j.toString(),sk:k,time_from_load:c("getCentralImpressionTimeAfterRefresh")().toString(),vp:b.visiblePercentage.toString(),xt:f.xt!=null?String(f.xt):""}})}g["default"]=a}),98);
__d("sendImpressionExitActionValidationData",["CometMetricsChannel2ViewabilityFalcoEvent","CometTimeSpentNavigation","WebSession","getCentralImpressionScrollSpeed","getCentralImpressionTimeAfterRefresh","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g=b.impressedAt,h=c("CometTimeSpentNavigation").getPathInfo(),i=c("uuidv4")(),j=g?Date.now()-g:null,k={intersect_rect:b.intersectionRect,root:b.rootBounds,target_rect:b.boundingClientRect};c("CometMetricsChannel2ViewabilityFalcoEvent").logImmediately(function(){return{csp:f.csp!=null?String(f.csp):"",cts:String(g),duration:j!=null?String(j):null,eid:f.eid!=null?String(f.eid):"",event_trace_id:i,exit_rs:b.invisibleReason,framework:a,me:h?h.name:null,pre_rs:Object.prototype.hasOwnProperty.call(f,"pre_rs")?String(f.pre_rs):"",pre_vp:e?String(e.visiblePercentage):null,rects:k,scroll_speed:c("getCentralImpressionScrollSpeed")().toString(),sk:d("WebSession").getId(),time_from_load:c("getCentralImpressionTimeAfterRefresh")().toString(),vp:b.visiblePercentage.toString(),xt:f.xt!=null?String(f.xt):""}})}g["default"]=a}),98);
__d("useCometFeedUnitGapInfo",["CometFeedUnitStatusListPassiveContext","FBLogger","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext,j=b.useRef,k=function(a){return a==="SPONSORED"||a==="ENGAGEMENT"||a==="FIXED_POSITION"||a==="PROMOTION"};function a(){var a=d("react-compiler-runtime").c(4),b=j(null),e=i(c("CometFeedUnitStatusListPassiveContext")),f;a[0]!==e?(f=function(a){if(e==null)return null;if(a<0){c("FBLogger")("comet_feed").mustfix("computeGapInfoForPosition called with invalid feed position %s",a);return null}var b=e(),d=b[a];if(d==null){b.length>0&&c("FBLogger")("comet_feed").mustfix("feed position %s does not exist in getFeedUnitStatusListPassive (length:%s)",a,b.length);return null}var f=d.category;if(!k(f))return null;d=d.minGapType;var g=-1,h=-1,i=-1,j=-1;for(var l=a-1;l>=0;l--){var m,n=a-l;m=(m=b[l])==null?void 0:m.category;bb25:switch(m){case"ENGAGEMENT":g=g===-1?n:g;break bb25;case"FIXED_POSITION":h=h===-1?n:h;break bb25;case"PROMOTION":i=i===-1?n:i;break bb25;case"SPONSORED":j=j===-1?n:j}if(g!==-1&&h!==-1&&i!==-1&&j!==-1)break}return{dist_to_engagement:g,dist_to_fixed:h,dist_to_promo:i,dist_to_sponsored:j,dist_to_top:a+1,min_gap_type:d,story_category:f}},a[0]=e,a[1]=f):f=a[1];var g=f;a[2]!==g?(f=function(a){var c=b.current;(a<0||c==null||c.dist_to_top!==a+1)&&(b.current=g(a));return b.current},a[2]=g,a[3]=f):f=a[3];return f}g["default"]=a}),98);
__d("useCometGHLDisplayMonitor",["CometGHLDisplayMonitor","GHLSurfaceContainerContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect,k=b.useRef;function a(a,b){var e=d("react-compiler-runtime").c(5),f=k(null),g=i(c("GHLSurfaceContainerContext")),h,l;e[0]!==g||e[1]!==a||e[2]!==b?(h=function(){var c=null,e=Date.now();if(g===null)return;if(!a)return;c=d("CometGHLDisplayMonitor").m(g,{onLogBlockCallback:b,startTime:e,targetRef:f});return function(){c&&c.dispose()}},l=[g,a,b],e[0]=g,e[1]=a,e[2]=b,e[3]=h,e[4]=l):(h=e[3],l=e[4]);j(h,l);return f}g["default"]=a}),98);
__d("useCometGHLFeedSurvey",["CometGHLTracker","DebugOwl","GhlSwankFalcoEvent","cr:1088657","react","react-compiler-runtime","useCometGHLDisplayMonitor","useMergeRefs"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");e.useCallback;var i=e.useEffect,j=e.useRef,k=e.useState;function a(a){var e=d("react-compiler-runtime").c(16),f=a.encryptedToken,g=a.id,h=a.isDisabled,l=a.position,m=a.type;a=h===void 0?!1:h;h=k(!1);var n=h[0],o=h[1],p=j(null);e[0]!==f||e[1]!==n||e[2]!==l?(h=function(a){if(n||f==null)return;o(!0);c("GhlSwankFalcoEvent").log(function(){return{hd:String(a),sli:String(l),xt:f}});var e=p.current;e!==null&&(d("CometGHLTracker").m(e),b("cr:1088657")&&b("cr:1088657").b({e:e,hd:a,token:f!=null?f:""}))},e[0]=f,e[1]=n,e[2]=l,e[3]=h):h=e[3];h=h;var q=c("useCometGHLDisplayMonitor")(!n&&!a,h);e[4]!==q.current?(a=function(){p.current=q.current},e[4]=q.current,e[5]=a):a=e[5];e[6]!==q?(h=[q],e[6]=q,e[7]=h):h=e[7];i(a,h);e[8]!==q.current?(a=function(){var a=q.current;return function(){a&&d("CometGHLTracker").d(a)}},e[8]=q.current,e[9]=a):a=e[9];e[10]!==q?(h=[q],e[10]=q,e[11]=h):h=e[11];i(a,h);e[12]!==g||e[13]!==l||e[14]!==m?(a=function(a){c("DebugOwl").nest(a,{id:g,location:"FEED",position:l,type:m})},e[12]=g,e[13]=l,e[14]=m,e[15]=a):a=e[15];h=a;return c("useMergeRefs")(q,h)}f=a;g["default"]=f}),98);
__d("useFullViewImpression",["react","react-compiler-runtime","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useRef;function a(a){var b=d("react-compiler-runtime").c(7),e=a.onFullViewStart;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={bottomRight:!1,hasBeenFullyViewed:!1,topLeft:!1},b[0]=a):a=b[0];var f=i(a);b[1]!==e?(a=function(a){var b=a.entry;a=a.isElementVisible;if(!a&&f.current.hasBeenFullyViewed)f.current={bottomRight:!1,hasBeenFullyViewed:!1,topLeft:!1};else if(a&&!f.current.hasBeenFullyViewed){b.intersectionRatio===1?(f.current.bottomRight=!0,f.current.topLeft=!0):(f.current.bottomRight||(f.current.bottomRight=b.boundingClientRect.bottom<=b.rootBounds.bottom&&b.boundingClientRect.right<=b.rootBounds.right),f.current.topLeft||(f.current.topLeft=b.boundingClientRect.top>=b.rootBounds.top&&b.boundingClientRect.left>=b.rootBounds.left));if(f.current.bottomRight&&f.current.topLeft){f.current.hasBeenFullyViewed=!0;return e({currentTime:Date.now()})}}},b[1]=e,b[2]=a):a=b[2];a=a;var g;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){f.current={bottomRight:!1,hasBeenFullyViewed:!1,topLeft:!1}},b[3]=g):g=b[3];g=g;var h;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(h={thresholdOverride:"EXPENSIVE"},b[4]=h):h=b[4];b[5]!==a?(g={onHidden:g,onIntersection:a,options:h},b[5]=a,b[6]=g):g=b[6];return c("useVisibilityObserver")(g)}g["default"]=a}),98);
__d("useStoryFullViewLogger",["CometMetricsFullViewFalcoEvent","react","react-compiler-runtime","requireDeferred","useFullViewImpression","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useRef,j=c("requireDeferred")("Banzai").__setRef("useStoryFullViewLogger");function a(a,b,e){e=d("react-compiler-runtime").c(5);var f=i(!1),g;e[0]!==b||e[1]!==a?(g=function(d){if(!f.current&&a!=null){f.current=!0;var e=a,g=b,h=c("uuidv4")(),i={csp:g,event_trace_id:h,xt:e};c("CometMetricsFullViewFalcoEvent").log(function(){return{csp:g.toString(),event_trace_id:h,xt:e}});j.onReady(function(a){a.post("comet_metrics:full_view",i)})}},e[0]=b,e[1]=a,e[2]=g):g=e[2];g=g;var h;e[3]!==g?(h={onFullViewStart:g},e[3]=g,e[4]=h):h=e[4];return c("useFullViewImpression")(h)}g["default"]=a}),98);
__d("useStoryObserverImpressionLogger",["BrandSafetyOpportunityLossRateFalcoEvent","Comet2ndChannelContext","CometAdsProductLogger","CometFeed5sImpressionDelayContext","CometFeedAdsProductContext","CometFeedBrandSafetyContext","CometFeedBrandSafetyLoggingUtil","CometFeedUnitStatusListPassiveContext","CometGHLTracker","CometImpressionLoggingUtil","CometMetricsViewableImpressionFalcoEvent","CometTimeSpentNavigation","DebugOwl","FBLogger","WebSession","cr:1813330","ghlTestUBT","gkx","justknobx","randomInt","react","registerSourceForView","reportTopicsForView","sendImpressionEnterActionValidationData","sendImpressionExitActionValidationData","setTimeout","useMinifiedProductAttribution","usePartialViewImpression","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useCallback,j=e.useContext,k=e.useEffect,l=e.useRef,m={can_delay_log_impression:!1,subsequent_gap_in_ms:6e4},n=5e3;function a(a,e,f,g,h,p){g===void 0&&(g=!1);h===void 0&&(h=null);var q=babelHelpers["extends"]({},m,f),r=l(null),s=l(null),t=l(null),u=l(!1),v=l(!1),w=(f==null?void 0:f.can_delay_log_impression)===!0,x=c("useMinifiedProductAttribution")();k(function(){c("ghlTestUBT")(function(a){u.current=a})},[]);k(function(){return function(){r.current=null,v.current=!1,t.current=null}},[h]);var y=j(c("CometFeedUnitStatusListPassiveContext")),z=j(c("Comet2ndChannelContext")),A=j(c("CometFeedBrandSafetyContext")),B=j(c("CometFeed5sImpressionDelayContext"));f=j(c("CometFeedAdsProductContext"));var C=f.adId,D=f.minGapRule,E=f.minGapType;h=i(function(f){var h=f.entry,i=f.visibleTime;c("DebugOwl").perch(h.target);b("cr:1813330")==null||b("cr:1813330").setNewsFeedStoryPosition(e);var j=function(b,f){f=Date.now();var g=c("CometTimeSpentNavigation").getPathInfo(),h=d("CometGHLTracker").c(b.target);c("DebugOwl").fly(b.target);var j=e,k=Math.floor(f/1e3),l=f+"_"+(c("randomInt")(0,4294967295)+1),m=h,n=g?g.name:null,q=d("WebSession").getId(),r=b.visiblePercentage,s=a,t=c("uuidv4")(),u=d("CometFeedBrandSafetyLoggingUtil").getBrandSafetyFieldForAdImpression(y,A,e,w),z;if(c("justknobx")._("616")){j==null&&c("FBLogger")("comet_impression").mustfix("storyPosition param %s is invalid. event_trace_id: %s, aidv2: %s",j,t,x);z=(f=j==null?void 0:j.toString())!=null?f:"0"}else z=j.toString();c("CometMetricsViewableImpressionFalcoEvent").logImmediately(function(){return{aidv2:x,brs:u,csp:z,cts:k.toString(),etid:l,event_trace_id:t,hba:m,isv:"1",me:n,sk:q,vp:r.toString(),xt:s}});if(y){h=y();((g=h[j])==null?void 0:g.category)==="SPONSORED"&&(B.hasAnyAdImpressionAlreadyBeenLogged===!1&&(B.hasAnyAdImpressionAlreadyBeenLogged=!0,B.firstLoggedAdImpressionStoryPosition=e))}o(u,p,i,e);d("CometAdsProductLogger").logCometAdsProductGapRule({adId:C,csp:z,cts:k.toString(),endPoint:n,getFeedUnitStatusList:y,hba:m,isv:"1",minGapRule:D,minGapType:E,sessionKey:q,tracking:s,vp:r.toString()});c("registerSourceForView")(null,s);d("reportTopicsForView").reportTopicsForViewMainObserver(p);v.current=!0},k={boundingClientRect:h.boundingClientRect,impressedAt:i,intersectionRect:h.intersectionRect,invisibleReason:null,rootBounds:h.rootBounds,status:"ENTER",target:h.target,visible:!0,visiblePercentage:h.intersectionRatio};g&&c("sendImpressionEnterActionValidationData")("impression_api_comet_enter",k,null,{csp:e,pre_rs:r.current,xt:a});if(z){f=z();d("CometImpressionLoggingUtil").logChannelData(C,a,k,f,d("CometImpressionLoggingUtil").TwoMFirstChannel)}if(t.current||s.current)return;if(q.can_delay_log_impression===!0&&(u.current||d("CometGHLTracker").b()||c("gkx")("23488"))){B.hasUserSeenAnyAd===!1&&(B.hasUserSeenAnyAd=!0,B.firstAdStoryPosition=e);h=c("gkx")("23490");f=h;h=d("CometGHLTracker").b();var l=!B.hasAnyAdImpressionAlreadyBeenLogged;f=f||h||l?n:0;c("gkx")("1718")?h=f:h=n;s.current=c("setTimeout")(function(){j&&j(k,"AD_BLOCKER"),s.current=null},h)}else j&&j(k,v.current?"DEDUP":"ORIGINAL")},[g,q.can_delay_log_impression,e,a,x]);f=i(function(b){var d=b.hiddenReason,f=b.visibleDuration;b=b.visibleTime;g&&c("sendImpressionExitActionValidationData")("impression_api_comet_exit",{impressedAt:b,invisibleReason:d,visiblePercentage:0},null,{csp:e,duration:f,pre_rs:r.current,xt:a});r.current=d;if(t.current)return;(v.current||s.current)&&(t.current=c("setTimeout")(function(){v.current=!1,t.current=null},q.subsequent_gap_in_ms))},[q.subsequent_gap_in_ms,e,a,g]);return c("usePartialViewImpression")({onImpressionEnd:f,onImpressionStart:h})}function o(a,b,d,e){var f=a==null?void 0:a.brs_filter_setting;if(c("BrandSafetyOpportunityLossRateFalcoEvent")!=null&&parseInt(f,10)>0){var g=a==null?void 0:a.unit_after,h=a==null?void 0:a.unit_before;c("BrandSafetyOpportunityLossRateFalcoEvent").log(function(){var a;return{ad_insertion_status:"INSERTED",ad_insertion_sub_status:"VALID_COMPATIBLE",ad_inventory_filter:String(f),adjacent_edges_info:{unit_after:g!=null?{brs_content_label:(a=g.brs_content_label)!=null?a:"",organic_tracking:(a=g.organic_tracking)!=null?a:""}:null,unit_before:h!=null?{brs_content_label:(a=h.brs_content_label)!=null?a:"",organic_tracking:(a=h.organic_tracking)!=null?a:""}:null},client_token:b!=null?b:"",feed_session_id:"",impression_original_timestamp_ms:String(d),slot_position:String(e)}})}}g["default"]=a}),98);
__d("useStoryVPVDLogger",["CometFeedSessionIDContext","CometInteractionSourceContext","CometNewsFeedVPVDStore","FBMerlinImpressionManager","Random","WebSession","WebVpvDurationFalcoEvent","getGroupsSeoContainerIdFromRoute","gkx","isStringNullOrEmpty","react","react-compiler-runtime","requireDeferred","useCometFeedUnitGapInfo","useCurrentRoute","useGroupsCometSeoMetadataContext","useMinifiedProductAttribution","useVPVDImpression"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext,j=b.useRef,k=c("requireDeferred")("ODS").__setRef("useStoryVPVDLogger"),l=function(a,b,c,e){var f={};if(e!=null&&e.role==="dub"){f.consumption_language=(e=e.lang)!=null?e:""}else delete f.consumption_language;return babelHelpers["extends"]({},f,{csp:a.position,feed_session_id:c,is_agg:a.isAggregated,is_self:a.isSelfPost,is_seo:a.isSeoVisit,logged_before:a.loggedBefore,nav_attribution_id_v2:a.aidv2,seo_container_id:a.seoContainerId,sid_raw:d("WebSession").getId(),source:a.source,source_override:a.source_override,story_height:a.story_height,story_width:a.story_width,vpvd_start_timestamp_ms:a.visibleTime,vpvd_time_delta_ms:a.hiddenTime-((e=a.visibleTime)!=null?e:0),xt:a.encrypted_tracking},b)},m=1e3;function a(a){var b=d("react-compiler-runtime").c(23),e=a.igXARCommentID,f=a.interactionSourceOverride,g=a.isAggregated,h=a.isSelfPost,n=a.navChainOverride,o=a.position,p=a.targetAudioTrack,q=a.trackable,r=g===void 0?null:g,s=h===void 0?null:h;a=n===void 0?null:n;var t=i(c("CometInteractionSourceContext")),u=i(c("CometFeedSessionIDContext")),v=c("useCometFeedUnitGapInfo")();g=c("useCurrentRoute")()||{};var w=g.tracePolicy,x=c("useMinifiedProductAttribution")()||"";a!=null&&(x=a);h=i(d("CometNewsFeedVPVDStore").LoggerContext);var y=h[0],z=h[1],A=j(null),B=j(null),C=j(!1);b[0]!==y?(n=function(a){var b,c,d=a.entry;a=a.visibleTime;y(a);A.current=(a=d==null||(b=d.boundingClientRect)==null?void 0:b.height)!=null?a:null;B.current=(a=d==null||(c=d.boundingClientRect)==null?void 0:c.width)!=null?a:null},b[0]=y,b[1]=n):n=b[1];g=n;a=d("useGroupsCometSeoMetadataContext").useGroupsCometSeoMetadataContext();var D=a.isSeoVisit;h=c("useCurrentRoute")();b[2]!==h?(n=c("getGroupsSeoContainerIdFromRoute")(h),b[2]=h,b[3]=n):n=b[3];a=n;var E=a.postID!=null?a.postID:a.groupID;b[4]!==x||b[5]!==u||b[6]!==v||b[7]!==E||b[8]!==e||b[9]!==t||b[10]!==f||b[11]!==r||b[12]!==s||b[13]!==D||b[14]!==o||b[15]!==z||b[16]!==p||b[17]!==w||b[18]!==q?(h=function(a){var b=a.hiddenTime;a=a.visibleTime;z(a);var g=f!=null?f:t;if(!c("FBMerlinImpressionManager").isMerlinVPVOnlySources(g)&&g===10){d("Random").coinflip(m)&&k.onReady(function(a){a.bumpEntityKey(3372,"comet.unknown_vpvd_tracepolicy",(w!=null?w:"empty")+"_"+g,m)});return}var h=A.current!=null?Math.round(A.current):null,i=B.current!=null?Math.round(B.current):null,j=v(o),n=l({aidv2:x,encrypted_tracking:q!=null?q:"",hiddenTime:b,isAggregated:r,isSelfPost:s,isSeoVisit:D,loggedBefore:C.current,position:o,seoContainerId:E,source:t,source_override:f,story_height:h,story_width:i,visibleTime:a},j,u.toString(),p);C.current=!0;h=q;i=!c("isStringNullOrEmpty")(e)&&g===26;i&&(h=e);j=c("FBMerlinImpressionManager").merlinShouldLog(g)||i;i=c("FBMerlinImpressionManager").isMerlinVPVOnlySources(g)||i;i=!j&&!i;j&&c("FBMerlinImpressionManager").logWithEnterAndExitTimestamps(a,b,h!=null?h:"",g,n);i&&c("WebVpvDurationFalcoEvent").log(function(){return{client_viewstate_position:JSON.stringify(n.csp),json_data:JSON.stringify(n)}})},b[4]=x,b[5]=u,b[6]=v,b[7]=E,b[8]=e,b[9]=t,b[10]=f,b[11]=r,b[12]=s,b[13]=D,b[14]=o,b[15]=z,b[16]=p,b[17]=w,b[18]=q,b[19]=h):h=b[19];x;n=h;b[20]!==n||b[21]!==g?(a={onVPVDEnd:n,onVPVDStart:g},b[20]=n,b[21]=g,b[22]=a):a=b[22];return c("useVPVDImpression")(a)}g["default"]=a}),98);
__d("useViewabilityImpression",["react-compiler-runtime","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(3);a=a.onIntersection;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={thresholdOverride:"MODERATE"},b[0]=e):e=b[0];b[1]!==a?(e={onIntersection:a,options:e},b[1]=a,b[2]=e):e=b[2];return c("useVisibilityObserver")(e)}g["default"]=a}),98);
__d("useStoryViewabilityDurationLogger",["Banzai","CometMetricsViewabilityFalcoEvent","PercentVisible","react","react-compiler-runtime","useViewabilityImpression","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useRef;function j(a,b,d){c("CometMetricsViewabilityFalcoEvent").logImmediately(function(){return{cumulative:a.cumulative.toString(),duration:a.duration.toString(),event_trace_id:b,interval:a.interval.toString(),segment_id:a.segmentid.toString(),start_ts:a.startTs.toString(),view_event_type:a.eventType.toString(),xt:d}})}function a(a,b,e){b=d("react-compiler-runtime").c(4);var f=i(null),g=i(null),h=i(null);b[0]!==a?(e=function(b){var e=b.entry;b=b.isElementVisible;var i=k,m=function(b){var d=c("uuidv4")(),e={cumulative:b.cumulative,duration:b.duration,event_trace_id:d,eventType:b.eventType,interval:b.interval,segmentid:b.segmentid,startTs:b.startTs,xt:a};j(b,d,a);b=babelHelpers["extends"]({},c("Banzai").VITAL,{signal:!1});c("Banzai").post("comet_metrics:viewability",e,b)},n=function(a,b,c){if(c==null)return null;b=i(a,c);m(b);return null},o=function(a,b,c){c==null?b={cumulative:0,duration:0,eventType:b,interval:0,segmentid:0,startTs:a}:b=i(a,c);b.segmentid<=2&&m(b);return b};!b?(f.current=n(e.time,d("PercentVisible").VISIBLE_0_PCT,f.current),g.current=n(e.time,d("PercentVisible").VISIBLE_50_PCT,g.current),h.current=n(e.time,d("PercentVisible").VISIBLE_100_PCT,h.current)):e.intersectionRatio<.5?(f.current=o(e.time,d("PercentVisible").VISIBLE_0_PCT,f.current),g.current=n(e.time,d("PercentVisible").VISIBLE_50_PCT,g.current),h.current=n(e.time,d("PercentVisible").VISIBLE_100_PCT,h.current)):e.intersectionRatio>=.5&&e.intersectionRatio<1?(f.current=o(e.time,d("PercentVisible").VISIBLE_0_PCT,f.current),g.current=o(e.time,d("PercentVisible").VISIBLE_50_PCT,g.current),h.current=n(e.time,d("PercentVisible").VISIBLE_100_PCT,h.current)):(f.current=o(e.time,d("PercentVisible").VISIBLE_0_PCT,f.current),g.current=o(e.time,d("PercentVisible").VISIBLE_50_PCT,g.current),h.current=o(e.time,d("PercentVisible").VISIBLE_100_PCT,h.current))},b[0]=a,b[1]=e):e=b[1];e=e;var l;b[2]!==e?(l={onIntersection:e},b[2]=e,b[3]=l):l=b[3];return c("useViewabilityImpression")(l)}function k(a,b){return{cumulative:a-b.startTs,duration:a-b.startTs,eventType:b.eventType,interval:a-b.cumulative-b.startTs,segmentid:b.segmentid+1,startTs:b.startTs}}g["default"]=a}),98);
__d("useStoryViewabilityLogger",["mergeRefs","react","useCometGHLFeedSurvey","useStoryFullViewLogger","useStoryObserverImpressionLogger","useStoryVPVDLogger","useStoryViewabilityDurationLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function k(a,b,c){return l}function l(){return null}function a(a){var b=a.clientToken,d=a.clientViewConfig;d=d===void 0?null:d;var e=a.contentIdentifier;e=e===void 0?null:e;var f=a.disabledViewabilityEventTypes,g=a.encryptedTracking,h=a.position,l=a.shouldDisableGHLSurvey,m=l===void 0?!1:l;l=a.targetAudioTrack;var n=a.viewabilityConfig;a=a.vpvdOptionalData;var o=[];function p(a,b){return n&&n.includes(a)&&(!f||!f.includes(a))?b:null}var q=!!n&&n.some(function(a){return a===7}),r=p(8,c("useStoryObserverImpressionLogger")(g,h,d,q,e,b)),s=p(7,k(g,h,d)),t=p(2,c("useStoryFullViewLogger")(g,h,d)),u=p(3,c("useStoryViewabilityDurationLogger")(g,h,d));q=c("useStoryVPVDLogger")(babelHelpers["extends"]({},a,{position:h,targetAudioTrack:l,trackable:g}));e=q[0];b=q[1];o.push(b);var v=p(5,e),w=c("useCometGHLFeedSurvey")({clientViewConfig:d,encryptedToken:g,isDisabled:m,position:h});a=j(function(){return c("mergeRefs")(r,s,t,u,v,m?null:w,null)},[r,s,t,u,v,m,w]);return{debuggingInfoLoggers:o.map(function(a,b){return i.jsx("div",{children:a},b)}),ref:a}}g["default"]=a}),98);